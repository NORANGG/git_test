<html>
    <head>
        <title>My Winning Wheel</title>
        <script src='../lib/js/Winwheel.js'></script>
    </head>
    <body>
        <canvas id='myCanvas' width='650' height='300'>
            Canvas not supported, use another browser.
        </canvas>

        <script>
            let theWheel = new Winwheel({
                'numSegments'       : 4,            // Specify number of segments.
                'outerRadius'       : 150,          // Set outer radius so wheel fits inside the background.
                'drawMode'          : 'image',      // drawMode must be set to image.
                'drawText'          : true,         // Need to set this true if want code-drawn text on image wheels.
                'textFontSize'      : 12,
                'textOrientation'   : 'curved',     // Note use of curved text.
                'textDirection'     : 'reversed',   // Set other text options as desired.
                'textAlignment'     : 'outer',
                'textMargin'        : 5,
                'textFontFamily'    : 'monospace',
                'textStrokeStyle'   : 'black',
                'textLineWidth'     : 2,
                'textFillStyle'     : 'white',
                'segments'     :                // Define segments.
                [
                   {'text' : 'T-55 Vampire'},
                   {'text' : 'P-40 Kittyhawk'},
                   {'text' : 'North American Harvard'},
                   {'text' : 'L-39C Albatross'}
                ],
                'animation' :                   // Specify the animation to use.
                {
                    'type'     : 'spinToStop',
                    'duration' : 5,             // Duration in seconds.
                    'spins'    : 8,             // Number of complete spins.
                    'callbackFinished' : alertPrize
                }
            });




            // Create new image object in memory.
            let loadedImg = new Image();
 
            // Create callback to execute once the image has finished loading.
            loadedImg.onload = function()
            {
                theWheel.wheelImage = loadedImg;    // Make wheelImage equal the loaded image object.
                theWheel.draw();                    // Also call draw function to render the wheel.
            }
 
            // Set the image source, once complete this will trigger the onLoad callback (above).
            loadedImg.src = "planes.png";
 
            // Called when the animation has finished.
            function alertPrize(indicatedSegment)
            {
                // Do basic alert of the segment text.
                alert("The plane is " + indicatedSegment.text);
            }











    //         function changeColours()   //회전하면서 색이 한칸씩 이동
    // {
    //     // Change colours as desired by accessing the segment via the segments array
    //     // of the wheel object (note first array position is 1 not 0).
    //     let temp = theWheel.segments[1].fillStyle;
    //     theWheel.segments[1].fillStyle = theWheel.segments[2].fillStyle;
    //     theWheel.segments[2].fillStyle = theWheel.segments[3].fillStyle;
    //     theWheel.segments[3].fillStyle = theWheel.segments[4].fillStyle;
    //     theWheel.segments[4].fillStyle = theWheel.segments[5].fillStyle;
    //     theWheel.segments[5].fillStyle = theWheel.segments[6].fillStyle;
    //     theWheel.segments[6].fillStyle = theWheel.segments[7].fillStyle;
    //     theWheel.segments[7].fillStyle = theWheel.segments[8].fillStyle;
    //     theWheel.segments[8].fillStyle = temp;

    //     // 휠 객체의 그리기 방법을 호출해야 합니다.
    //     // 변경사항이 반영될 수 있도록 하기 위해.
    //     theWheel.draw();
    // }














        // function addSegment() //세그먼트 추가,삭제
        //     {
        //         // Use a date object to set the text of each added segment to the current minutes:seconds
        //         // (just to give each new segment a different label).
        //         let date = new Date();

        //         // The Second parameter in the call to addSegment specifies the position,
        //         // in this case 1 meaning the new segment goes at the start of the wheel.
        //         theWheel.addSegment({
        //             'text' : date.getMinutes() + ':' + date.getSeconds(),
        //             'fillStyle' : 'aqua'
        //         }, 1);

        //         // The draw method of the wheel object must be called in order for the changes
        //         // to be rendered.
        //         theWheel.draw();
        //     }

        //     function deleteSegment()
        //     {
        //         // Call function to remove a segment from the wheel, by default the last one will be
        //         // removed; you can pass in the number of the segment to delete if desired.
        //         theWheel.deleteSegment();

        //         // The draw method of the wheel object must be called to render the changes.
        //         theWheel.draw();
        //     }









//  // Create the wheel
// let theWheel = new Winwheel({
//     'drawMode'     : 'image',    // drawMode must be set to image.
//     'numSegments'  : 8,          // The number of segments must be specified.
//     'imageOverlay' : true,       // Set imageOverlay to true to display the overlay.
//     'lineWidth'    : 8,          // Overlay uses wheel line width and stroke style so can set these
//     'strokeStyle'  : 'red'       // as desired to change appearance of the overlay.
// });

// // Create new image object in memory.
// let loadedImg = new Image();

// // Create callback to execute once the image has finished loading.
// loadedImg.onload = function()
// {
//     theWheel.wheelImage = loadedImg;    // Make wheelImage equal the loaded image object.
//     theWheel.draw();                    // Also call draw function to render the wheel.
// }

// // Set the image source, once complete this will trigger the onLoad callback (above).
// loadedImg.src = "https://ifh.cc/g/B4LHD2.png";
















    
        </script>

        <button onClick="changeColours();">Change Colours</button> <!--회전하면서 색이 한칸씩 이동-->

        <!-- <button onClick="addSegment();">Add Segment</button>
        <button onClick="deleteSegment();">Delete Segment</button> //세그먼트 추가,삭제 -->
    </body>
</html>